<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Comp2130_finalproject</title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

        <script>
        
            function final()
            {

                //gets the textbox
                let myTextbox = document.getElementById("t")
                let myButton = document.getElementById("b")

                myButton.onclick = function() 
                {

                    // STORAGE HTML
                            
                        // pending demo and explanation

                    if(myTextbox.value.toUpperCase().includes("STORAGE"))
                    {
                    let a = document.createElement('a')
                    let linkText = document.createTextNode("storage.html")
                    a.appendChild(linkText);
                    a.title = "storage.html";
                    a.href = "storage.html";
                    document.body.appendChild(a) 
                    }

                    // ALIEN                                    
                        
                        // DOESN'T WANT TO MOVE

                    if(myTextbox.value.toUpperCase().includes("ALIEN"))
                    {
                        currentStepNumber = 0
                        movingTimer = null

                        let alien = document.createElement('img');
                        alien.src = "/alien/alienrwalk0.gif";
                        document.body.appendChild(alien);
                        alien.style.position = "absolute"
                        alien.style.left = "30px";
                        alien.style.top = "80px";
                        alien.id = "alienImg"

                        if(myTextbox.value.toUpperCase().includes("WALK"))
                        {

                            moveTimer = null 
                            stepNumber = 0
                            
                            function step()
                            {
                                stepNumber = stepNumber + 1

                                if(stepNumber > 30)
                                {
                                    stepNumber = 0
                                }

                                alien.src = "images/alien/alienrwalk" + stepNumber + ".gif"
                            }

                            function move()
                            {
                                alien.style.left = parseInt(alien.style.left) + 1 + "px"
                                step()
                            }

                            function toggleMoving()
                            {
                                if(moveTimer == null)
                                {
                                    moveTimer = setInterval(move, 20)
                                }
                                else
                                {
                                    clearInterval(moveTimer)
                                    moveTimer = null
                                }
                            }                            
                        }                                                                                                                                                           

                    }

                    // JQUERY HTML

                        // PENDING

                    if(myTextbox.value.toUpperCase().includes("JQUERY"))
                    {
                        for (var i = 1; i < 5; i++) 
                        {
                            var jquery = document.createElement("img");
                            jquery.src = "images/cage" + i + ".jpg";
                            document.body.appendChild(jquery);
                            jquery.id = "cage"                            

                            $(jquery).width(200)
                            $(function () {
                            $($("img")[1]).click(function() {
                                $(this).css('border', "solid 10px red");  
                            });
                            });
                        }
                    }

                    // PLUGIN HTML
                        
                        // PENDING

                    if(myTextbox.value.toUpperCase().includes("PLUGIN"))
                    {
                        
                    }

                    // AJAX

                    if(myTextbox.value.toUpperCase().includes("AJAX"))
                    {
                                            

                        var xmlHttp = new XMLHttpRequest()   
                    
                        xmlHttp.onreadystatechange = function()
                        {
                            if(xmlHttp.readyState == 4 && xmlHttp.status == 200)
                            {
                                var myObj = JSON.parse(xmlHttp.responseText)

                                heading = document.createElement('h1');
                                document.body.appendChild(heading);
                                var myObj = JSON.parse(xmlHttp.responseText.toUpperCase());
                                heading.id = "ajax";
                                //document.getElementsByTagName('h1').innerHTML = xmlHttp.responseText;
                                document.getElementById("ajax").innerHTML = myObj[0] + " " + myObj[1] + " " + myObj[2]+ " " + myObj[3] + " " + myObj[4] + " " + myObj[5] + " " + myObj[6] + " " + myObj[7] + " " + myObj[8];
                                  

                            } 
                    
                        };
                        xmlHttp.open("GET", "advice.txt", true);
                        
                        xmlHttp.send();
                        
                    }
                
                
                
                    // ALPHABET

                        // NOT YET IN REVERSE ORDER

                    if(myTextbox.value.toUpperCase().includes("ALPHABET"))
                    {
                        
                        
                        let myTextbox = document.getElementById('t').value

                        for(let i = 'a'.charCodeAt(0); i <= 'z'.charCodeAt(0); i++)
                        {
                            let myLetter = String.fromCharCode(i)
                            let myImage = document.createElement("img")
                            myImage.id = myLetter 
                            myImage.width = 40
                            myImage.src = "/letters/" + myLetter + ".png"
                            document.body.appendChild(myImage)
                            
                            function changeImageSrc()
                            {
                                if(document.getElementById("myLetter").src == this.src)
                                
                                document.getElementById("myLetter").onClick.src == this.src
                               
                            }
                            
                        }                                                    
                    }                
                }        
            }

            window.onload = final    

        </script>
    </head>
    <body>                            
        <input type="text" id="t">
        <br>
        <br>
        <button type="button" id="b">Click me!</button>
        <br>
        <br>
    </body>
</html>